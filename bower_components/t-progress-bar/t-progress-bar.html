<link rel="import" href="../polymer/polymer.html">

<!--
`t-progress-bar`


@demo demo/index.html
-->

<dom-module id="t-progress-bar">
  <template>
    <style>
      :host {
        display: block;
      }
      .progress {
        height: 20px;
        width: 100%;
        background: url(assets/loader-bg.png) repeat;
        position: relative;

        @apply --progress-bar;
      }

      .progress .value {
        background: url(assets/loader-top-bg.png) repeat;
        /* display: inline-block; */
        height: 100%;
        text-align: right;
        color: white;
        line-height: 20px;
        font-size: 10px;
        border-radius: 0 20px 20px 0;
        padding-right: 20px;
        box-sizing: border-box;
        -webkit-transition: width 0.2s;
        transition: width 0.2s;
        white-space: nowrap;
        padding-left: 20px;

        @apply --progress-bar-value;
      }
    </style>
    <div class="progress">
      <div class="value" style$="width:[[value]]%">
        <span>[[text]] [[value]]%</span>
      </div>
    </div>
  </template>

  <script>
    Polymer({

      is: 't-progress-bar',
      properties: {
        value: {
          type: Number,
          reflectToAttribute: true,
          notify: true,
          observer: '_changeValue'
        },
        text: String
      },
      _changeValue: function(){
        this.value = this.value;
      }
    });
  </script>
</dom-module>
